{
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(mysql:*)",
      "Bash(/mnt/c/Users/oscar/Documents/xamp/mysql/bin/mysql:*)",
      "Bash(grep:*)",
      "Bash(\"/c/xampp/mysql/bin/mysql.exe\" -u root -e \"SHOW DATABASES LIKE ''inventario_sistema'';\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root -e \"SHOW DATABASES LIKE ''inventario_sistema'';\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"SHOW TABLES;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"DESCRIBE ventas;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"SHOW TABLE STATUS LIKE ''ventas'';\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"DROP TABLE IF EXISTS ventas;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE ventas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,\n    total DECIMAL(10,2) NOT NULL,\n    vendedor_id INT,\n    tienda_id INT NOT NULL,\n    usuario_id INT NOT NULL,\n    estado ENUM(''completada'', ''reembolsada'', ''pendiente'') DEFAULT ''completada'',\n    razon_reembolso VARCHAR(255) NULL,\n    fecha_reembolso DATETIME NULL,\n    descuento DECIMAL(10,2) DEFAULT 0.00,\n    subtotal DECIMAL(10,2) NOT NULL,\n    notas TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_fecha (fecha),\n    INDEX idx_vendedor (vendedor_id),\n    INDEX idx_tienda (tienda_id),\n    INDEX idx_estado (estado),\n    FOREIGN KEY (vendedor_id) REFERENCES vendedores(id) ON DELETE SET NULL,\n    FOREIGN KEY (tienda_id) REFERENCES tiendas(id) ON DELETE RESTRICT,\n    FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE RESTRICT\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"DROP TABLE IF EXISTS ventas; SHOW TABLES;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE ventas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,\n    total DECIMAL(10,2) NOT NULL,\n    vendedor_id INT,\n    tienda_id INT NOT NULL,\n    usuario_id INT NOT NULL,\n    estado ENUM(''completada'', ''reembolsada'', ''pendiente'') DEFAULT ''completada'',\n    razon_reembolso VARCHAR(255) NULL,\n    fecha_reembolso DATETIME NULL,\n    descuento DECIMAL(10,2) DEFAULT 0.00,\n    subtotal DECIMAL(10,2) NOT NULL,\n    notas TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root -e \"\nDROP DATABASE inventario_sistema;\nCREATE DATABASE inventario_sistema CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"SET foreign_key_checks = 0; DROP TABLE IF EXISTS ventas; SET foreign_key_checks = 1;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE ventas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,\n    total DECIMAL(10,2) NOT NULL DEFAULT 0.00,\n    vendedor_id INT DEFAULT NULL,\n    tienda_id INT NOT NULL DEFAULT 1,\n    usuario_id INT NOT NULL DEFAULT 1,\n    estado ENUM(''completada'', ''reembolsada'', ''pendiente'') DEFAULT ''completada'',\n    razon_reembolso VARCHAR(255) NULL,\n    fecha_reembolso DATETIME NULL,\n    descuento DECIMAL(10,2) DEFAULT 0.00,\n    subtotal DECIMAL(10,2) NOT NULL DEFAULT 0.00,\n    notas TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root -e \"SHOW VARIABLES LIKE ''datadir'';\")",
      "Bash(rm:*)",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE ventas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    fecha DATETIME DEFAULT CURRENT_TIMESTAMP,\n    total DECIMAL(10,2) NOT NULL DEFAULT 0.00,\n    vendedor_id INT DEFAULT NULL,\n    tienda_id INT NOT NULL DEFAULT 1,\n    usuario_id INT NOT NULL DEFAULT 1,\n    estado ENUM(''completada'', ''reembolsada'', ''pendiente'') DEFAULT ''completada'',\n    razon_reembolso VARCHAR(255) NULL,\n    fecha_reembolso DATETIME NULL,\n    descuento DECIMAL(10,2) DEFAULT 0.00,\n    subtotal DECIMAL(10,2) NOT NULL DEFAULT 0.00,\n    notas TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\")",
      "Bash(curl:*)",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\n-- Tabla usuarios\nCREATE TABLE usuarios (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    rol VARCHAR(50) DEFAULT ''usuario'',\n    rol_id INT DEFAULT NULL,\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Tabla tiendas\nCREATE TABLE tiendas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    direccion TEXT,\n    telefono VARCHAR(20),\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Tabla productos\nCREATE TABLE productos (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(200) NOT NULL,\n    codigo VARCHAR(50) UNIQUE NOT NULL,\n    descripcion TEXT,\n    precio_compra DECIMAL(10,2) DEFAULT 0.00,\n    precio_venta DECIMAL(10,2) NOT NULL,\n    categoria VARCHAR(100),\n    tipo ENUM(''elemento'', ''conjunto'') DEFAULT ''elemento'',\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root -e \"FLUSH TABLES; REPAIR TABLE inventario_sistema.usuarios, inventario_sistema.productos, inventario_sistema.tiendas, inventario_sistema.inventarios;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root -e \"\nUSE inventario_sistema;\nCREATE TABLE IF NOT EXISTS usuarios (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    rol VARCHAR(50) DEFAULT ''usuario'',\n    rol_id INT DEFAULT NULL,\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\nALTER TABLE usuarios DISCARD TABLESPACE;\nALTER TABLE usuarios IMPORT TABLESPACE;\")",
      "Bash(tasklist)",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nINSERT INTO ventas (id, fecha, total, subtotal) VALUES (1, NOW(), 100.00, 100.00);\nSELECT * FROM ventas LIMIT 1;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\n-- Tabla usuarios\nCREATE TABLE usuarios (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    rol VARCHAR(50) DEFAULT ''usuario'',\n    rol_id INT DEFAULT NULL,\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Tabla tiendas\nCREATE TABLE tiendas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    direccion TEXT,\n    telefono VARCHAR(20),\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n-- Tabla productos\nCREATE TABLE productos (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(200) NOT NULL,\n    codigo VARCHAR(50) UNIQUE NOT NULL,\n    descripcion TEXT,\n    precio_compra DECIMAL(10,2) DEFAULT 0.00,\n    precio_venta DECIMAL(10,2) NOT NULL,\n    categoria VARCHAR(100),\n    tipo ENUM(''elemento'', ''conjunto'') DEFAULT ''elemento'',\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"SELECT 1;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"DESCRIBE usuarios;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS inventarios (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    producto_id INT NOT NULL,\n    tienda_id INT NOT NULL,\n    cantidad INT DEFAULT 0,\n    cantidad_minima INT DEFAULT 5,\n    cantidad_reparacion INT DEFAULT 0,\n    ubicacion VARCHAR(100),\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    UNIQUE KEY unique_producto_tienda (producto_id, tienda_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS detalle_ventas (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    venta_id INT NOT NULL,\n    producto_id INT NOT NULL,\n    cantidad INT NOT NULL,\n    precio_unitario DECIMAL(10,2) NOT NULL,\n    subtotal DECIMAL(10,2) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS roles (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(50) UNIQUE NOT NULL,\n    descripcion TEXT,\n    es_sistema BOOLEAN DEFAULT FALSE,\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS permisos (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) UNIQUE NOT NULL,\n    descripcion TEXT,\n    modulo VARCHAR(50) NOT NULL,\n    orden INT DEFAULT 0,\n    activo BOOLEAN DEFAULT TRUE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS rol_permisos (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    rol_id INT NOT NULL,\n    permiso_id INT NOT NULL,\n    puede_crear BOOLEAN DEFAULT FALSE,\n    puede_leer BOOLEAN DEFAULT FALSE,\n    puede_actualizar BOOLEAN DEFAULT FALSE,\n    puede_eliminar BOOLEAN DEFAULT FALSE,\n    UNIQUE KEY unique_rol_permiso (rol_id, permiso_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS vendedores (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE,\n    telefono VARCHAR(20),\n    comision_porcentaje DECIMAL(5,2) DEFAULT 0.00,\n    activo BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\nCREATE TABLE IF NOT EXISTS configuraciones (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    clave VARCHAR(100) UNIQUE NOT NULL,\n    valor TEXT,\n    descripcion TEXT,\n    tipo ENUM(''texto'', ''numero'', ''booleano'', ''json'') DEFAULT ''texto'',\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\" -u root inventario_sistema -e \"\n-- Insertar tienda por defecto si no existe\nINSERT IGNORE INTO tiendas (id, nombre, direccion) VALUES (1, ''Tienda Principal'', ''Dirección principal'');\n\n-- Insertar roles básicos\nINSERT IGNORE INTO roles (id, nombre, descripcion, es_sistema) VALUES \n(1, ''admin'', ''Administrador del sistema'', TRUE),\n(2, ''encargado'', ''Encargado de tienda'', TRUE),\n(3, ''usuario'', ''Usuario básico'', TRUE);\n\n-- Insertar usuario administrador (password: password)\nINSERT IGNORE INTO usuarios (id, nombre, email, password, rol, rol_id) VALUES \n(1, ''Administrador'', ''admin@inventario.com'', ''$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi'', ''admin'', 1);\")",
      "Bash(\"/mnt/c/xampp/mysql/bin/mysql.exe\":*)",
      "Bash(sed:*)",
      "Bash(mkdir:*)",
      "Bash(php:*)"
    ],
    "deny": []
  }
}