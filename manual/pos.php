<h1><i class="fas fa-cash-register text-primary"></i> Punto de Venta (POS)</h1>

<div class="tip-box">
    <h5><i class="fas fa-rocket"></i> Ventas Ultrarr√°pidas</h5>
    <p>El POS est√° dise√±ado para procesar ventas de manera eficiente con el m√≠nimo n√∫mero de clics. Ideal para ventas r√°pidas y atenci√≥n al cliente √°gil.</p>
</div>

<h2>üñ•Ô∏è Interfaz del POS</h2>

<div class="row">
    <div class="col-md-6">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <h5>Carrito de Compras</h5>
            <ul>
                <li>Vista en tiempo real de productos</li>
                <li>C√°lculo autom√°tico de totales</li>
                <li>Edici√≥n r√°pida de cantidades</li>
                <li>Eliminaci√≥n de productos</li>
                <li>Subtotal y total en quetzales (Q)</li>
            </ul>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-search"></i>
            </div>
            <h5>B√∫squeda de Productos</h5>
            <ul>
                <li>B√∫squeda instant√°nea por nombre</li>
                <li>Filtro por c√≥digo de producto</li>
                <li>Visualizaci√≥n de stock disponible</li>
                <li>Precios actualizados autom√°ticamente</li>
                <li>Solo productos con stock se muestran</li>
            </ul>
        </div>
    </div>
</div>

<h2>üõí Agregar Productos al Carrito</h2>

<div class="screenshot-container text-center mb-4">
    <img src="assets/screenshots/pos-venta.png" alt="Interfaz del Punto de Venta (POS)" class="img-fluid rounded shadow" style="max-width: 100%; height: auto;">
    <p class="text-muted mt-2"><small><i class="fas fa-camera"></i> Interfaz principal del POS con carrito de compras y b√∫squeda de productos</small></p>
</div>

<div class="step-card">
    <div class="d-flex align-items-start">
        <div class="step-number">1</div>
        <div class="step-content">
            <h5>M√©todos para Agregar Productos</h5>
            
            <div class="row">
                <div class="col-md-4">
                    <h6>üñ±Ô∏è M√©todo Manual:</h6>
                    <ol>
                        <li>Escribe el nombre del producto</li>
                        <li>Usa la b√∫squeda inteligente</li>
                        <li>Haz clic en el producto deseado</li>
                        <li>Se agrega autom√°ticamente al carrito</li>
                    </ol>
                </div>
                <div class="col-md-4">
                    <h6>üì± Esc√°ner QR:</h6>
                    <ol>
                        <li>Presiona <kbd>F3</kbd> o el bot√≥n QR</li>
                        <li>Permite acceso a la c√°mara</li>
                        <li>Escanea el c√≥digo del producto</li>
                        <li>Producto se agrega instant√°neamente</li>
                    </ol>
                </div>
                <div class="col-md-4">
                    <h6>‚å®Ô∏è C√≥digo Directo:</h6>
                    <ol>
                        <li>Escribe el c√≥digo exacto</li>
                        <li>Ejemplo: <code>EL-001</code></li>
                        <li>Presiona <kbd>Enter</kbd></li>
                        <li>Producto se localiza autom√°ticamente</li>
                    </ol>
                </div>
            </div>
            
            <div class="info-box">
                <h6><i class="fas fa-check-circle"></i> Validaciones Autom√°ticas</h6>
                <p>El sistema verifica autom√°ticamente:</p>
                <ul class="mb-0">
                    <li>Stock disponible en la tienda seleccionada</li>
                    <li>Producto est√° activo y disponible</li>
                    <li>Precios actualizados</li>
                    <li>Permisos de venta del usuario</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<h2>‚úèÔ∏è Gesti√≥n del Carrito</h2>

<div class="step-card">
    <div class="d-flex align-items-start">
        <div class="step-number">2</div>
        <div class="step-content">
            <h5>Modificar Productos en el Carrito</h5>
            
            <div class="row">
                <div class="col-md-6">
                    <h6>üî¢ Cambiar Cantidades:</h6>
                    <ul>
                        <li>Haz clic en el campo de cantidad</li>
                        <li>Escribe la nueva cantidad</li>
                        <li>Presiona <kbd>Enter</kbd> o haz clic fuera</li>
                        <li>Total se recalcula autom√°ticamente</li>
                    </ul>
                    
                    <h6>üóëÔ∏è Eliminar Productos:</h6>
                    <ul>
                        <li>Haz clic en el icono <i class="fas fa-trash text-danger"></i></li>
                        <li>Producto se elimina inmediatamente</li>
                        <li>Total se actualiza autom√°ticamente</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>üí∞ Informaci√≥n Mostrada:</h6>
                    <ul>
                        <li><strong>Nombre:</strong> Descripci√≥n del producto</li>
                        <li><strong>Precio Unitario:</strong> En quetzales (Q)</li>
                        <li><strong>Cantidad:</strong> Unidades a vender</li>
                        <li><strong>Subtotal:</strong> Precio √ó Cantidad</li>
                        <li><strong>Stock:</strong> Disponible despu√©s de la venta</li>
                    </ul>
                </div>
            </div>
            
            <div class="warning-box">
                <h6><i class="fas fa-exclamation-triangle"></i> Validaci√≥n de Stock</h6>
                <p>Si intentas vender m√°s cantidad de la disponible, el sistema te alertar√° y limitar√° la cantidad al stock disponible.</p>
            </div>
        </div>
    </div>
</div>

<h2>üë§ Asignaci√≥n de Vendedor</h2>

<div class="step-card">
    <div class="d-flex align-items-start">
        <div class="step-number">3</div>
        <div class="step-content">
            <h5>Sistema de Comisiones</h5>
            
            <div class="row">
                <div class="col-md-6">
                    <h6>üë• Selecci√≥n de Vendedor:</h6>
                    <ul>
                        <li>Lista desplegable con vendedores activos</li>
                        <li>Opci√≥n "Sin vendedor" disponible</li>
                        <li>Vendedor predeterminado configurable</li>
                        <li>Solo vendedores de la tienda actual</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>üíº Beneficios del Sistema:</h6>
                    <ul>
                        <li>C√°lculo autom√°tico de comisiones</li>
                        <li>Reportes de performance por vendedor</li>
                        <li>Seguimiento de metas de ventas</li>
                        <li>Rankings y estad√≠sticas</li>
                    </ul>
                </div>
            </div>
            
            <div class="tip-box">
                <h6><i class="fas fa-percent"></i> Comisiones Autom√°ticas</h6>
                <p>Cada vendedor tiene un porcentaje de comisi√≥n configurado. El sistema calcula autom√°ticamente sus ganancias basado en las ventas procesadas.</p>
            </div>
        </div>
    </div>
</div>

<h2>üí≥ Procesar la Venta</h2>

<div class="step-card">
    <div class="d-flex align-items-start">
        <div class="step-number">4</div>
        <div class="step-content">
            <h5>Finalizaci√≥n de la Transacci√≥n</h5>
            
            <div class="row">
                <div class="col-md-6">
                    <h6>‚úÖ Antes de Procesar:</h6>
                    <ul>
                        <li>Revisa productos en el carrito</li>
                        <li>Verifica cantidades y precios</li>
                        <li>Selecciona vendedor (opcional)</li>
                        <li>Confirma tienda correcta</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>üéØ M√©todos de Procesamiento:</h6>
                    <ul>
                        <li>Bot√≥n "Procesar Venta"</li>
                        <li>Atajo de teclado <kbd>F2</kbd></li>
                        <li>Confirmaci√≥n antes de guardar</li>
                        <li>Mensaje de √©xito al completar</li>
                    </ul>
                </div>
            </div>
            
            <div class="info-box">
                <h6><i class="fas fa-sync-alt"></i> Actualizaciones Autom√°ticas</h6>
                <p>Al procesar la venta:</p>
                <ul class="mb-0">
                    <li>El inventario se reduce autom√°ticamente</li>
                    <li>Se registra la venta en el historial</li>
                    <li>Se calculan las comisiones del vendedor</li>
                    <li>Se actualiza el dashboard en tiempo real</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<h2>‚å®Ô∏è Atajos de Teclado</h2>

<div class="row">
    <div class="col-md-6">
        <div class="kbd-shortcut">
            <h5><i class="fas fa-keyboard text-primary"></i> Atajos Principales</h5>
            <table class="table table-sm">
                <tr>
                    <td><kbd>F1</kbd></td>
                    <td>Enfoque en b√∫squeda de productos</td>
                </tr>
                <tr>
                    <td><kbd>F2</kbd></td>
                    <td>Procesar venta actual</td>
                </tr>
                <tr>
                    <td><kbd>F3</kbd></td>
                    <td>Abrir esc√°ner QR</td>
                </tr>
                <tr>
                    <td><kbd>Esc</kbd></td>
                    <td>Cerrar modales/cancelar</td>
                </tr>
                <tr>
                    <td><kbd>Enter</kbd></td>
                    <td>Confirmar acciones</td>
                </tr>
            </table>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="kbd-shortcut">
            <h5><i class="fas fa-mouse text-primary"></i> Atajos con Mouse</h5>
            <table class="table table-sm">
                <tr>
                    <td>Doble clic</td>
                    <td>Editar cantidad en carrito</td>
                </tr>
                <tr>
                    <td>Clic derecho</td>
                    <td>Men√∫ contextual (navegadores)</td>
                </tr>
                <tr>
                    <td>Arrastrar</td>
                    <td>No implementado</td>
                </tr>
                <tr>
                    <td>Hover</td>
                    <td>Informaci√≥n adicional en tooltips</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<h2>üè™ Selecci√≥n de Tienda</h2>

<div class="step-card">
    <div class="d-flex align-items-start">
        <div class="step-number">5</div>
        <div class="step-content">
            <h5>Cambio de Tienda Activa</h5>
            
            <div class="row">
                <div class="col-md-6">
                    <h6>üîÑ Proceso de Cambio:</h6>
                    <ol>
                        <li>Usa el selector en la parte superior</li>
                        <li>Selecciona la tienda deseada</li>
                        <li>La p√°gina se recarga autom√°ticamente</li>
                        <li>Inventario se actualiza a la nueva tienda</li>
                        <li>Carrito se vac√≠a (por seguridad)</li>
                    </ol>
                </div>
                <div class="col-md-6">
                    <h6>üîí Restricciones de Acceso:</h6>
                    <ul>
                        <li><strong>Administradores:</strong> Ven todas las tiendas</li>
                        <li><strong>Encargados:</strong> Solo tiendas asignadas</li>
                        <li><strong>Usuarios:</strong> Seg√∫n permisos espec√≠ficos</li>
                        <li>Filtros autom√°ticos de seguridad</li>
                    </ul>
                </div>
            </div>
            
            <div class="warning-box">
                <h6><i class="fas fa-exclamation-triangle"></i> Importante</h6>
                <p>Al cambiar de tienda, el carrito actual se vaciar√° para evitar ventas incorrectas entre tiendas diferentes.</p>
            </div>
        </div>
    </div>
</div>

<h2>üì± Esc√°ner QR Integrado</h2>

<div class="step-card">
    <div class="step-content">
        <h5><i class="fas fa-qrcode text-primary"></i> Funcionalidad de Esc√°ner</h5>
        
        <div class="row">
            <div class="col-md-6">
                <h6>üì≤ Caracter√≠sticas:</h6>
                <ul>
                    <li>C√°mara integrada en el navegador</li>
                    <li>Detecci√≥n autom√°tica de c√≥digos QR</li>
                    <li>Retroalimentaci√≥n visual y sonora</li>
                    <li>Funciona en m√≥viles y escritorio</li>
                    <li>Interfaz optimizada para velocidad</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>üéØ Uso Pr√°ctico:</h6>
                <ul>
                    <li>Ventas ultrarr√°pidas sin escribir</li>
                    <li>Eliminaci√≥n de errores de c√≥digo</li>
                    <li>Ideal para productos con c√≥digos largos</li>
                    <li>Perfecto para atenci√≥n al cliente √°gil</li>
                    <li>Reduce tiempo de entrenamiento de personal</li>
                </ul>
            </div>
        </div>
        
        <div class="info-box">
            <h6><i class="fas fa-mobile-alt"></i> Compatibilidad</h6>
            <p>El esc√°ner funciona en:</p>
            <ul class="mb-0">
                <li><strong>M√≥viles:</strong> Android, iOS (Safari, Chrome)</li>
                <li><strong>Escritorio:</strong> Chrome, Firefox, Edge, Safari</li>
                <li><strong>Tablets:</strong> iPad, Android tablets</li>
                <li>Requiere conexi√≥n HTTPS para acceso a c√°mara</li>
            </ul>
        </div>
    </div>
</div>

<h2>üí° Tips de Productividad</h2>

<div class="row">
    <div class="col-md-6">
        <div class="tip-box">
            <h5><i class="fas fa-thumbs-up"></i> Mejores Pr√°cticas</h5>
            <ul class="mb-0">
                <li><strong>Usa atajos:</strong> <kbd>F2</kbd> para procesar, <kbd>F3</kbd> para QR</li>
                <li><strong>Esc√°ner principal:</strong> Para productos con c√≥digos largos</li>
                <li><strong>Verifica siempre:</strong> Cantidades y precios antes de procesar</li>
                <li><strong>Asigna vendedor:</strong> Para seguimiento de comisiones</li>
                <li><strong>Mant√©n limpio:</strong> Elimina productos incorrectos del carrito</li>
            </ul>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="warning-box">
            <h5><i class="fas fa-exclamation-triangle"></i> Evitar</h5>
            <ul class="mb-0">
                <li><strong>Cambiar tienda:</strong> Con carrito lleno (se vac√≠a)</li>
                <li><strong>Cantidades excesivas:</strong> M√°s del stock disponible</li>
                <li><strong>Procesar sin revisar:</strong> Siempre confirma antes de finalizar</li>
                <li><strong>Olvidar vendedor:</strong> Afecta reportes de comisiones</li>
                <li><strong>Productos inactivos:</strong> El sistema los filtra autom√°ticamente</li>
            </ul>
        </div>
    </div>
</div>

<h2>üîß Soluci√≥n de Problemas</h2>

<div class="step-card">
    <div class="step-content">
        <h5><i class="fas fa-tools text-primary"></i> Problemas Comunes y Soluciones</h5>
        
        <div class="row">
            <div class="col-md-6">
                <h6>üîç "No encuentro el producto"</h6>
                <p><strong>Verificar:</strong></p>
                <ul>
                    <li>Tienda seleccionada correcta</li>
                    <li>Producto tiene stock disponible</li>
                    <li>Producto est√° activo</li>
                    <li>B√∫squeda con t√©rminos correctos</li>
                </ul>
                
                <h6>üì± "Esc√°ner QR no abre"</h6>
                <p><strong>Verificar:</strong></p>
                <ul>
                    <li>Navegador compatible</li>
                    <li>Conexi√≥n HTTPS</li>
                    <li>Permisos de c√°mara otorgados</li>
                    <li>C√°mara no est√° en uso por otra app</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>‚ùå "No se procesa la venta"</h6>
                <p><strong>Verificar:</strong></p>
                <ul>
                    <li>Carrito no est√° vac√≠o</li>
                    <li>Stock suficiente para todos los productos</li>
                    <li>Conexi√≥n a internet estable</li>
                    <li>Permisos de venta en la tienda</li>
                </ul>
                
                <h6>üîÑ "Carrito se vac√≠a solo"</h6>
                <p><strong>Causas comunes:</strong></p>
                <ul>
                    <li>Cambio de tienda</li>
                    <li>Sesi√≥n expirada</li>
                    <li>P√°gina recargada manualmente</li>
                    <li>Navegador cerrado</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<h2>üìä Despu√©s de la Venta</h2>

<div class="step-card">
    <div class="step-content">
        <h5><i class="fas fa-chart-line text-primary"></i> Qu√© Sucede Tras Procesar</h5>
        
        <div class="row">
            <div class="col-md-6">
                <h6>üìà Actualizaciones Autom√°ticas:</h6>
                <ul>
                    <li>Inventario reduce stock vendido</li>
                    <li>Dashboard actualiza m√©tricas del d√≠a</li>
                    <li>Historial de ventas registra transacci√≥n</li>
                    <li>Comisiones del vendedor se calculan</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>üìÑ D√≥nde Ver la Informaci√≥n:</h6>
                <ul>
                    <li><strong>Dashboard:</strong> M√©tricas actualizadas</li>
                    <li><strong>Historial de Ventas:</strong> Detalle completo</li>
                    <li><strong>Reportes de Vendedores:</strong> Comisiones</li>
                    <li><strong>Inventarios:</strong> Stock actualizado</li>
                </ul>
            </div>
        </div>
        
        <div class="tip-box">
            <h6><i class="fas fa-receipt"></i> Comprobante de Venta</h6>
            <p>Cada venta procesada genera un registro √∫nico con ID, fecha, productos, cantidades, precios y vendedor asignado. Esta informaci√≥n est√° disponible en el historial para futuras consultas o reembolsos.</p>
        </div>
    </div>
</div>

<div class="text-center mt-4">
    <h3>¬øListo para gestionar ventas completas?</h3>
    <p>El POS es solo el inicio. Explora el historial de ventas y reportes para an√°lisis completos.</p>
    <div class="btn-group">
        <a href="manual.php?seccion=ventas" class="btn btn-primary">
            <i class="fas fa-shopping-cart"></i> Gesti√≥n de Ventas
        </a>
        <a href="manual.php?seccion=qr" class="btn btn-outline-primary">
            <i class="fas fa-qrcode"></i> Dominar Esc√°ner QR
        </a>
    </div>
</div>